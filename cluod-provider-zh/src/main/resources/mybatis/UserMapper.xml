<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xb.mapper.DrugMapper" >
    <select id="findDrugCount" resultType="int" parameterType="com.xb.model.DrugBean">
        select count(*) from t_drug
        <!--<include refid="where"></include>-->
    </select>
    <select id="findDrugList" resultType="com.xb.model.DrugBean">
        select * from t_drug
        <!--<include refid="where"></include>-->
        limit #{start},#{rows}
    </select>

    <insert id="saveDrug" parameterType="com.xb.model.DrugBean">
        insert into t_drug(drugId,drugName,drugForm,drugChara,specification,conversion,unit,packingUnit,directoryType,manEnterprise,shoEnterprise,price,retail)
        values(#{drugId},#{drugName},#{drugForm},#{drugChara},#{specification},0,#{unit},#{packingUnit},#{directoryType},#{manEnterprise},#{shoEnterprise},#{price},#{retail})
    </insert>

    <delete id="delDrug" parameterType="int">
        delete from t_drug where id in
        <foreach collection="array" close=")" index="index" item="item" open="(" separator=",">
            #{item}
        </foreach>
    </delete>

    <select id="findDrugInfoById" resultType="com.xb.model.DrugBean" parameterType="int">
        select * from t_drug where id=#{value}
        <!--<include refid="where"></include>-->
    </select>
    <update id="updateDrug" parameterType="com.xb.model.DrugBean">
        update t_drug set drugId=#{drugId},drugName=#{drugName},drugForm=#{drugForm},drugChara=#{drugChara},specification=#{specification},conversion=#{conversion},unit=#{unit},packingUnit=#{packingUnit},directoryType=#{directoryType},manEnterprise=#{manEnterprise},shoEnterprise=#{shoEnterprise},price="认证后可见",retail="认证后可见"
        where id=#{id}


    </update>







    <select id="findDrugStoreCount" resultType="int" parameterType="com.xb.model.DrugStoreBean">
        select count(*) from t_drugstore
        <!--<include refid="where"></include>-->
    </select>
    <select id="findDrugStoreList" resultType="com.xb.model.DrugStoreBean">
        select * from t_drugstore
        <!--<include refid="where"></include>-->
        limit #{start},#{rows}
    </select>

    <insert id="saveDrugStore" parameterType="com.xb.model.DrugStoreBean">
       insert into t_drugstore(drugstoreName,site,contactway)  values(#{drugstoreName},#{site},#{contactway})
    </insert>

    <delete id="delDrugStore" parameterType="int">
        delete from t_drugstore where id in
        <foreach collection="array" close=")" index="index" item="item" open="(" separator=",">
            #{item}
        </foreach>
    </delete>

    <select id="findDrugStoreInfoById" resultType="com.xb.model.DrugStoreBean" parameterType="int">
        select * from t_drugstore where id=#{value}
        <!--<include refid="where"></include>-->
    </select>
    <update id="updateDrugStore" parameterType="com.xb.model.DrugStoreBean">
        update t_drugstore set drugstoreName=#{drugstoreName},site=#{site},contactway=#{contactway}
        where id=#{id}


    </update>




</mapper>